(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(29),n=a.n(r),l=a(9),c=a(2),i="login_access_token",o=a(0);var d=Object(c.g)((function(e){var t,a="string"!==typeof(t=e.location.pathname.substring(1,e.location.pathname.length))?"":t.charAt(0).toUpperCase()+t.slice(1);return"/"===e.location.pathname&&(a="Register"),Object(o.jsx)("nav",{className:"navbar navbar-dark bg-primary",children:Object(o.jsxs)("div",{className:"row col-12 d-flex justify-content-center text-white",children:[Object(o.jsx)("span",{className:"h3",children:e.title||a}),function(){if("/home"===e.location.pathname)return Object(o.jsx)("div",{className:"ml-auto",children:Object(o.jsx)("button",{className:"btn btn-danger",onClick:function(){return localStorage.removeItem(i),void e.history.push("/login")},children:"Logout"})})}()]})})})),m=a(12),j=a(4),u=a(13),h=a.n(u);a(63);var b=Object(c.g)((function(e){var t=Object(s.useState)({email:"",password:"",successMessage:null}),a=Object(l.a)(t,2),r=a[0],n=a[1],c=function(e){var t=e.target,a=t.id,s=t.value;n((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(m.a)({},a,s))}))},d=function(){e.updateTitle("Home"),e.history.push("/home")};return Object(o.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(o.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:r.email,onChange:c}),Object(o.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:c})]}),Object(o.jsx)("div",{className:"form-check"}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault();var a={email:r.email,password:r.password};h.a.post("/api/auth/authenticate",a).then((function(t){200===t.status?(n((function(e){return Object(j.a)(Object(j.a)({},e),{},{successMessage:"Login successful. Redirecting to home page.."})})),localStorage.setItem(i,t.data.token),d(),e.showError(null)):204===t.code?e.showError("Username and password do not match"):e.showError("Username does not exists")})).catch((function(e){console.log(e)}))},children:"Submit"})]}),Object(o.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage}),Object(o.jsxs)("div",{className:"registerMessage",children:[Object(o.jsx)("span",{children:"Dont have an account? "}),Object(o.jsx)("span",{className:"loginText",onClick:function(){return e.history.push("/register"),void e.updateTitle("Register")},children:"Register"})]})]})})),p=a(14),x=a.n(p),f=a(16);a(65);var O=Object(c.g)((function(e){var t=Object(s.useState)({email:"",password:"",confirmPassword:"",SuccessMessage:null}),a=Object(l.a)(t,2),r=a[0],n=a[1],c=function(e){var t=e.target,a=t.id,s=t.value;n((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(m.a)({},a,s))}))},i=function(){var t=Object(f.a)(x.a.mark((function t(){var a,s,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.email.length||!r.password.length){t.next=16;break}return e.showError(null),a={email:r.email,password:r.password},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},t.next=6,fetch("/api/auth/register",s);case 6:return t.sent,t.next=9,fetch("/api/auth/authenticate",s);case 9:return n=t.sent,t.next=12,n.text();case 12:t.sent,d(),t.next=17;break;case 16:e.showError("Please enter valid email and password");case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){e.updateTitle("Home"),e.history.push("/home")};return Object(o.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"Email Address"}),Object(o.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:r.email,onChange:c}),Object(o.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:c})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Confirm Password"}),Object(o.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",value:r.confirmPassword,onChange:c})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),r.password===r.confirmPassword?i():e.showError("Passwords do not match")},children:" Register"})]}),Object(o.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage}),Object(o.jsxs)("div",{className:"mt-2",children:[Object(o.jsx)("span",{children:"Already have an account? "}),Object(o.jsx)("span",{className:"loginText",onClick:function(){return e.updateTitle("Login"),void e.history.push("/login")},children:"Login here"})]})]})}));var g=Object(c.g)((function(e){function t(){e.history.push("/login")}return Object(s.useEffect)((function(){h.a.get("http://localhost:5000/user/me",{headers:{token:localStorage.getItem(i)}}).then((function(e){200!==e.status&&t()})).catch((function(e){t()}))})),Object(o.jsx)("div",{className:"mt-2",children:"Home page content"})})),v=a(31);var N=function(e){var t=e.children,a=Object(v.a)(e,["children"]);return Object(o.jsx)(c.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){var a=e.location;return localStorage.getItem(i)?t:Object(o.jsx)(c.a,{to:{pathname:"/login",state:{from:a}}})}}))},y=a(11);a(66);var w=function(e){var t=Object(s.useState)("none"),a=Object(l.a)(t,2),r=a[0],n=a[1],c=function(){n("none"),e.hideError(null)};return Object(s.useEffect)((function(){null!==e.errorMessage?n("block"):c()})),Object(o.jsx)("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:r},children:Object(o.jsxs)("div",{className:"d-flex alertMessage",children:[Object(o.jsx)("span",{children:e.errorMessage}),Object(o.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c()},children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};a(67);var E=Object(c.g)((function(e){var t=Object(s.useState)({firstName:"",lastName:"",phone:"",datePicked:"",startTime:"",endTime:""}),a=Object(l.a)(t,2),r=a[0],n=a[1],c=function(e){var t=e.target,a=t.id,s=t.value;n((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(m.a)({},a,s))}))},i=function(){var t=Object(f.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.phone&&r.datePicked&&r.startTime&&r.endTime&&r.firstName&&r.lastName)){t.next=5;break}return e.showError(null),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({f_name:r.firstName,l_name:r.lastName,phone:r.phone,date_picked:r.datePicked,start_time:r.startTime,end_time:r.endTime})},t.next=5,fetch("/api/task/addTask",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"First Name"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"firstName","aria-describedby":"firstName",placeholder:"Enter first name",value:r.firstName,onChange:c}),Object(o.jsx)("small",{id:"firstNameHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"Last Name"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"lastName","aria-describedby":"lastName",placeholder:"Enter last name",value:r.lastName,onChange:c}),Object(o.jsx)("small",{id:"lastNameHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"phone"}),Object(o.jsx)("input",{type:"tel",className:"form-control",id:"phone","aria-describedby":"phoneHelp",placeholder:"Enter phone",value:r.phone,onChange:c}),Object(o.jsx)("small",{id:"phoneHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"date"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"datePicked","aria-describedby":"dateHelp",placeholder:"Enter date",value:r.datePicked,onChange:c}),Object(o.jsx)("small",{id:"dateHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"start time"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"startTime","aria-describedby":"startTimeHelp",placeholder:"Enter start time",value:r.email,onChange:c}),Object(o.jsx)("small",{id:"startTimeHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{htmlFor:"exampleInputEmail",children:"end time"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"endTime","aria-describedby":"endTimeHelp",placeholder:"Enter end time",value:r.endTime,onChange:c}),Object(o.jsx)("small",{id:"endTimeHelp",className:"form-text text-muted",children:"we'll never share your information with anyone else"})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),r.phone&&r.datePicked&&r.startTime&&r.endTime&&r.firstName&&r.lastName?i():e.showError("please fill out all fields")},children:" Register"})]}),Object(o.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage})]})}));var k=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(null),i=Object(l.a)(n,2),m=i[0],j=i[1];return Object(o.jsx)(y.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(d,{title:a}),Object(o.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(o.jsxs)(c.d,{children:[Object(o.jsx)(c.b,{path:"/",exact:!0,children:Object(o.jsx)(O,{showError:j,updateTitle:r})}),Object(o.jsx)(c.b,{path:"/register",children:Object(o.jsx)(O,{showError:j,updateTitle:r})}),Object(o.jsx)(c.b,{path:"/login",children:Object(o.jsx)(b,{showError:j,updateTitle:r})}),Object(o.jsx)(c.b,{path:"/form",children:Object(o.jsx)(E,{showError:j,updateTitle:r})}),Object(o.jsx)(N,{path:"/home",children:Object(o.jsx)(g,{})})]}),Object(o.jsx)(w,{errorMessage:m,hideError:j})]})]})})};n.a.render(Object(o.jsx)(k,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.2cd6ce83.chunk.js.map